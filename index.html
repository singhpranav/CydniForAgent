<!doctype html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>Cydni Support</title>
    <meta name="description" content="Chat with Cydni, our AI assistant, browse our knowledge base, or connect with our support team for personalized help." />
    <link rel="icon" href="./Cydcor Cydni Logo.svg" />

    <style>
      :root {
        --bg: #0a0f1c;
        --panel: #1a1f2e;
        --text: #f0f4ff;
        --muted: #b8c5d6;
        --brand: #7c3aed;
        --brand-600: #6d28d9;
        --accent: #06b6d4;
        --success: #10b981;
        --danger: #ef4444;
        --input: #0f1428;
        --border: #2d3748;
        --shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        --radius: 16px;
      }

      :root[data-theme="light"] {
        --bg: #fafbfc;
        --panel: #ffffff;
        --text: #1a202c;
        --muted: #4a5568;
        --brand: #7c3aed;
        --brand-600: #6d28d9;
        --accent: #0891b2;
        --success: #059669;
        --danger: #dc2626;
        --input: #f7fafc;
        --border: #e2e8f0;
        --shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }

      /* Page layout */
      html, body {
        height: 100%;
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu,
          Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji",
          "Segoe UI Emoji";
        color: var(--text);
        background: radial-gradient(1200px 800px at 80% -10%, rgba(124,58,237,0.15), transparent 50%),
          radial-gradient(800px 600px at -10% 10%, rgba(6,182,212,0.12), transparent 50%),
          var(--bg);
      }

      .container {
        max-width: 1100px;
        margin: 0 auto;
        padding: 24px;
      }

      /* Nav */
      .nav {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        padding: 16px 0 8px;
      }

      .logo {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        font-weight: 700;
        letter-spacing: 0.2px;
        color: var(--text);
        text-decoration: none;
      }
      .logo .mark {
        width: 32px;
        height: 32px;
        border-radius: 8px;
        background: white;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
        position: relative;
        padding: 4px;
      }
      .logo .mark img {
        width: 24px;
        height: 24px;
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
      }
      .logo .mark::before {
        content: 'C';
        position: absolute;
        color: var(--brand);
        font-weight: bold;
        font-size: 18px;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
        z-index: 0;
      }
      .logo .mark img {
        position: relative;
        z-index: 1;
      }

      .nav-actions {
        display: inline-flex;
        align-items: center;
        gap: 10px;
      }
      .btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 10px 14px;
        font-size: 14px;
        color: var(--text);
        background: var(--panel);
        border: 1px solid var(--border);
        border-radius: 12px;
        text-decoration: none;
        transition: transform 120ms ease, background 120ms ease, border-color 120ms ease;
      }
      .btn:hover { transform: translateY(-1px); }
      .btn.primary {
        background: linear-gradient(135deg, var(--brand), var(--brand-600));
        border-color: transparent;
        color: white;
        box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
      }
      .btn.primary:hover {
        background: linear-gradient(135deg, var(--brand-600), var(--brand));
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(124, 58, 237, 0.4);
      }

      /* Header */
      .hero {
        margin-top: 20px;
        background: linear-gradient(180deg, rgba(124,58,237,0.08), transparent);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        padding: 32px;
        text-align: center;
        position: relative;
      }
      .hero::after {
        content: "";
        position: absolute;
        inset: 0;
        background: url("./Cydcor Cydni Logo.svg") center/220px 220px no-repeat;
        opacity: 0.06;
        filter: blur(0.3px);
        pointer-events: none;
      }
      .hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, var(--brand), var(--accent));
        border-radius: var(--radius) var(--radius) 0 0;
      }
      .hero h1 {
        margin: 0 0 10px 0;
        font-size: 32px;
        font-weight: 700;
      }
      .hero p { 
        margin: 0; 
        color: var(--muted); 
        font-size: 18px;
      }

      /* Grid */
      .grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 20px;
        margin-top: 40px;
      }
      @media (min-width: 1024px) {
        .grid { grid-template-columns: 1.2fr 0.8fr; }
      }

      .card {
        background: var(--panel);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        padding: 24px;
      }
      .card h2 { 
        margin-top: 0; 
        font-size: 20px; 
        font-weight: 600;
        margin-bottom: 16px;
      }
      .card p { 
        color: var(--muted); 
        line-height: 1.6;
        margin-bottom: 16px;
      }

      /* Accordion */
      .accordion { border-top: 1px solid var(--border); }
      .acc-item { border-bottom: 1px solid var(--border); }
      .acc-button {
        width: 100%;
        text-align: left;
        padding: 18px 0;
        background: transparent;
        border: 0;
        color: var(--text);
        font-size: 16px;
        font-weight: 600;
        display: flex;
        align-items: center;
        justify-content: space-between;
        cursor: pointer;
        transition: color 120ms ease, transform 120ms ease;
      }
      .acc-button:hover { color: var(--brand); }
      .acc-panel { 
        display: none;
        padding: 10px 0 18px 0; 
        color: var(--muted); 
        line-height: 1.6;
      }
      .acc-button[aria-expanded="true"] + .acc-panel { display: block; }
      .acc-button:focus-visible {
        outline: none;
        color: var(--brand);
        text-decoration: underline;
        text-decoration-thickness: 2px;
        text-underline-offset: 3px;
      }
      .acc-item + .acc-item {
        scroll-margin-top: 80px;
      }
      .acc-caret {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 20px;
        height: 20px;
        margin-left: 12px;
        color: var(--muted);
        transition: transform 180ms ease, color 120ms ease;
      }
      .acc-button:hover .acc-caret { color: var(--brand); }
      .acc-button[aria-expanded="true"] .acc-caret { transform: rotate(180deg); color: var(--brand); }
      /* Panel content lists spacing */
      .acc-panel ul, 
      .acc-panel ol {
        margin: 8px 0 0;
        padding-left: 20px;
      }
      .acc-panel li + li {
        margin-top: 6px;
      }

      /* Contact section */
      .contact-methods {
        display: flex;
        flex-direction: column;
        gap: 12px;
        margin-top: 16px;
      }
      .contact-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px;
        background: rgba(255,255,255,0.02);
        border: 1px solid var(--border);
        border-radius: 8px;
        transition: background 120ms ease;
      }
      .contact-item:hover { background: rgba(255,255,255,0.04); }
      
      /* Clickable contact item styling */
      .contact-item.clickable {
        cursor: pointer;
        transition: all 120ms ease;
      }
      .contact-item.clickable:hover {
        background: rgba(124, 58, 237, 0.1);
        border-color: rgba(124, 58, 237, 0.3);
        transform: translateX(4px);
      }
      .contact-item.clickable:active {
        transform: translateX(2px) scale(0.98);
      }
      .contact-item-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
      }
      .contact-item .title {
        display: block;
        font-weight: 600;
      }
      .contact-item .subtitle {
        color: var(--muted);
        font-size: 13px;
      }
      .status.badge {
        padding: 2px 8px;
        font-size: 11px;
        background: rgba(16, 185, 129, 0.1);
        border-color: rgba(16, 185, 129, 0.4);
        color: var(--success);
      }
      .status.badge::before {
        background: var(--success);
      }
      .business-hours {
        margin: 8px 0 0;
        padding: 0;
        list-style: none;
        display: grid;
        grid-template-columns: max-content 1fr;
        row-gap: 6px;
        column-gap: 12px;
      }
      .business-hours li {
        display: contents;
      }
      .business-hours .day {
        color: var(--muted);
        font-size: 13px;
      }
      .business-hours .time {
        justify-self: end;
        font-size: 13px;
        font-variant-numeric: tabular-nums;
      }

      /* Footer */
      .footer {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        margin: 40px 0 20px;
        color: var(--muted);
        font-size: 13px;
        text-align: center;
      }

      /* Footer */

      /* Status indicator */
      .status {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 4px 8px;
        background: rgba(45, 212, 191, 0.1);
        border: 1px solid rgba(45, 212, 191, 0.3);
        border-radius: 6px;
        color: var(--success);
        font-size: 12px;
        font-weight: 500;
      }
      .status::before {
        content: '';
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: var(--success);
      }

      /* Logo section divider */
      .section-divider {
        display: flex;
        align-items: center;
        gap: 12px;
        margin: 28px 0;
      }
      .section-divider::before,
      .section-divider::after {
        content: "";
        flex: 1;
        height: 1px;
        background: var(--border);
      }
      .section-divider img {
        width: 18px;
        height: 18px;
        opacity: 0.7;
      }

      /* Responsive Design */
      
      /* Large tablets and small desktops (1024px and down) */
      @media (max-width: 1024px) {
        .container { padding: 20px; }
        .hero { padding: 28px; }
        .hero h1 { font-size: 30px; }
        .hero p { font-size: 17px; }
        .card { padding: 20px; }
      }

      /* Tablets (768px and down) */
      @media (max-width: 768px) {
        .container { padding: 16px; }
        .hero { padding: 24px; }
        .hero h1 { font-size: 28px; }
        .hero p { font-size: 16px; }
        .nav { 
          flex-direction: column; 
          align-items: flex-start; 
          gap: 16px; 
        }
        .nav-actions { 
          width: 100%; 
          justify-content: space-between; 
        }
        .card { padding: 18px; }
        .contact-methods { gap: 10px; }
        .contact-item { padding: 10px; }
        .acc-button { font-size: 15px; padding: 16px 0; }
      }

      /* Large phones and small tablets (480px and down) */
      @media (max-width: 480px) {
        .container { padding: 12px; }
        .hero { padding: 20px; }
        .hero h1 { font-size: 24px; }
        .hero p { font-size: 15px; }
        .card { padding: 16px; }
        .card h2 { font-size: 18px; }
        .acc-button { font-size: 14px; padding: 14px 0; }
        .contact-item { 
          flex-direction: column; 
          text-align: center; 
          gap: 8px; 
        }
        .contact-item svg { 
          width: 24px; 
          height: 24px; 
        display: block;
        overflow: visible;
        }
        .btn { 
          padding: 8px 12px; 
          font-size: 13px; 
        }
        .footer { 
          flex-direction: column; 
          gap: 8px; 
          text-align: center; 
        }
      }

      /* iPad specific optimizations */
      @media (min-width: 768px) and (max-width: 1024px) {
        .grid { 
          grid-template-columns: 1fr; 
          gap: 24px; 
        }
        .hero { 
          margin-top: 24px; 
          padding: 28px; 
        }
        .card { 
          padding: 22px; 
        }
        .nav-actions .btn { 
          padding: 12px 16px; 
          font-size: 15px; 
        }
        .contact-methods { 
          gap: 14px; 
        }
        .contact-item { 
          padding: 14px; 
        }
      }

      /* iPad Pro and larger tablets */
      @media (min-width: 1024px) and (max-width: 1366px) {
        .container { 
          max-width: 1000px; 
          padding: 22px; 
        }
        .hero { 
          padding: 30px; 
        }
        .grid { 
          gap: 22px; 
        }
      }

      /* Touch device optimizations */
      @media (hover: none) and (pointer: coarse) {
        .btn, .acc-button, .contact-item { 
          min-height: 44px; 
        }
        .acc-button { 
          padding: 18px 0; 
        }
        .btn { 
          padding: 12px 16px; 
        }
        .contact-item { 
          padding: 16px; 
        }
      }

      /* Very subtle branded background texture */
      body::before {
        content: "";
        position: fixed;
        inset: 0;
        pointer-events: none;
        z-index: -1;
        opacity: 0.03;
        background:
          radial-gradient(1200px 800px at 80% -10%, rgba(124,58,237,0.10), transparent 50%),
          radial-gradient(800px 600px at -10% 10%, rgba(6,182,212,0.08), transparent 50%);
        -webkit-mask-image: url("./Cydcor Cydni Logo.svg");
        mask-image: url("./Cydcor Cydni Logo.svg");
        -webkit-mask-size: 140px 140px;
        mask-size: 140px 140px;
        -webkit-mask-repeat: repeat;
        mask-repeat: repeat;
      }
    </style>
  </head>
  <body>
    <div class="container" role="main">
      <nav class="nav" aria-label="Top Navigation">
        <a class="logo" href="#" aria-label="Cydni Support Home">
          <span class="mark" aria-hidden="true">
            <img src="./Cydcor Cydni Logo.svg" alt="Cydni Logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
            <span style="display: none; color: var(--brand); font-weight: bold; font-size: 18px;">C</span>
          </span>
          <span>Cydni Support</span>
        </a>
        <div class="nav-actions">
          <button id="themeToggle" class="btn" type="button" aria-pressed="false" aria-label="Toggle theme">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Theme
          </button>
          <a class="btn primary" href="#contact" aria-label="Contact support">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Contact
          </a>
        </div>
      </nav>

      <header class="hero">
        <h1>How can Cydni help you today?</h1>
        <p>Chat with Cydni, our AI assistant, browse our knowledge base, or connect with our support team for personalized help.</p>
        
        <div style="margin-top: 24px;">
          <button id="chatWithCydni" class="btn primary" type="button" style="font-size: 16px; padding: 14px 24px;">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="margin-right: 8px;">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Chat with Cydni
          </button>
        </div>
      </header>

      <section class="grid" aria-label="Support content">
        <div class="card">
          <h2>Frequently Asked Questions</h2>
          <p>Quick answers to the most common questions about Service Desk Support. Cydni can also help with these topics in real-time.</p>
          <div class="accordion" id="faq">
            <!-- FAQ Item - 1 -->
            <div class="acc-item">
              <button class="acc-button" id="faq-1-trigger" aria-controls="faq-1" aria-expanded="false">
                I just finished my training but still don't see the Maps or can't get into SaraPlus?
                <span class="acc-caret" aria-hidden="true">▾</span>
              </button>
              <div id="faq-1" class="acc-panel" role="region" aria-labelledby="faq-1-trigger">
                Want to know if you’re ready to sell? Ask Cydni to refresh compliance!
              </div>
            </div>
            <!-- FAQ Item - 2 -->
            <div class="acc-item">
              <button class="acc-button" id="faq-2-trigger" aria-controls="faq-2" aria-expanded="false">
                SaraPlus Login Help
                <span class="acc-caret" aria-hidden="true">▾</span>
              </button>
              <div id="faq-2" class="acc-panel" role="region" aria-labelledby="faq-2-trigger">
                If you need any help logging in, click <b>“I need help logging in”</b> on the SaraPlus login page. If your account is locked, ask Cydni to <b>“Unlock SaraPlus”</b>.
              </div>
            </div>
            <!-- FAQ Item - 3 -->
            <div class="acc-item">
              <button class="acc-button" id="faq-3-trigger" aria-controls="faq-3" aria-expanded="false">
                Things You Can Ask Cydni to Do
                <span class="acc-caret" aria-hidden="true">▾</span>
              </button>
              <div id="faq-3" class="acc-panel" role="region" aria-labelledby="faq-3-trigger">
                <ul>
                  <li>Compliance
                    <ul>
                      <li>Refresh Compliance</li>
                      <li>Resend Compliance Documents</li>
                    </ul>
                  </li>
                  <li>Salesforce
                    <ul>
                      <li>Unlock Salesforce (includes resetting Salesforce password)</li>
                    </ul>
                  </li>
                  <li>Volt
                    <ul>
                      <li>Resend Volt Invitation</li>
                      <li>Unlock Volt User</li>
                      <li>Reset Volt Password</li>
                    </ul>
                  </li>
                  <li>SaraPlus
                    <ul>
                      <li>Resend SaraPlus Welcome Email</li>
                      <li>Reset SaraPlus Password</li>
                      <li>Unlock SaraPlus</li>
                    </ul>
                  </li>
                  <li>MRV
                    <ul>
                      <li>Resend MRV Welcome Email</li>
                      <li>Reset MRV Password</li>
                    </ul>
                  </li>
                </ul>
              </div>
            </div>
            <!-- FAQ Item - 4 -->
            <div class="acc-item">
              <button class="acc-button" id="faq-4-trigger" aria-controls="faq-4" aria-expanded="false">
                How to Update an App on your device
                <span class="acc-caret" aria-hidden="true">▾</span>
              </button>
              <div id="faq-4" class="acc-panel" role="region" aria-labelledby="faq-4-trigger">
                <ol>
                  <li>Find the app on your home screen and press & hold the icon.</li>
                  <li>Tap 'Remove App' to uninstall it.</li>
                  <li>Open the Catalog app:
                    <ul>
                      <li>Locate the app you just removed and tap 'Install'.</li>
                      <li>Allow 5–10 minutes for the app to reinstall and update.</li>
                    </ul>
                  </li>
                  <li>Restart the device once the installation is complete.</li>
                  <li>Tips for a Smooth App Update:
                    <ul>
                      <li>Connect to Wi-Fi for the fastest update.</li>
                      <li>If Wi-Fi isn’t available, make sure cellular data is enabled.</li>
                      <li>If the app hasn’t updated after 15 minutes, restart the device.</li>
                    </ul>
                  </li>
                  <li>Automatic updates are enabled on all devices. For best results:
                    <ul>
                      <li>Plug into power and connect to Wi-Fi overnight.</li>
                    </ul>
                  </li>
                  <li>Open the HUB app to ensure the device is synced.</li>
                  <li>Perform updates after fieldwork is complete to avoid disruptions.</li>
                </ol>
              </div>
            </div>
             <!-- FAQ Item - 5 -->
          </div>
        </div>

        <aside class="card" id="contact">
          <h2>Get in Touch</h2>
          <p>Our support team and Cydni are here to help you succeed.</p>
          <div class="contact-methods">
            <div class="contact-item clickable" id="cydnichat">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M8 9h8M8 13h6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <div>
                <div class="contact-item-header">
                  <span style="display:inline-flex;align-items:center;gap:8px;">
                    <img src="./Cydcor Cydni Logo.svg" alt="" width="18" height="18" style="border-radius:50%; background: rgba(255,255,255,0.06); padding:3px;">
                    <span class="title">Cydni</span>
                  </span>
                  <span class="status badge">Cydni is online and ready to help</span>
                </div>
                <div class="subtitle">Chat with your AI assistant</div>
              </div>
            </div>
            <div class="contact-item">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <div>
                <strong>Email Support</strong>
                <div>servicedesk@cydcor.com</div>
              </div>
            </div>
            
            <div class="contact-item">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <div>
                <strong>Phone Support</strong>
                <div>+1 (833) 529-3267</div>
              </div>
            </div>
            
            <div class="contact-item">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <circle cx="12" cy="12" r="8.5" stroke="currentColor" stroke-width="2" />
                <path d="M12 7.5v5l3 3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <div>
                <span class="title">Business Hours</span>
                <ul class="business-hours">
                  <li><span class="day">Mon–Fri</span><span class="time">6AM – 5:30PM PST</span></li>
                  <li><span class="day">Sat</span><span class="time">7AM – 4PM PST</span></li>
                  <li><span class="day">Sun</span><span class="time">7AM – 12PM PST</span></li>
                </ul>
              </div>
            </div>
          </div>
        </aside>
      </section>

      <footer class="footer" aria-label="Footer">
        <img src="./Cydcor Cydni Logo.svg" alt="" width="16" height="16" style="opacity:.7">
        <span>© <span id="year"></span> Powered by Cydni AI.</span>
      </footer>
    </div>

    <!-- Cydni Chatbot Integration -->
    <script type='text/javascript'>
    	function initEmbeddedMessaging() {
    		try {
    			embeddedservice_bootstrap.settings.language = 'en_US'; // For example, enter 'en' or 'en-US'
    
    			embeddedservice_bootstrap.init(
    				'00DEa00000OX5Mp',
    				'Cydni_For_Agents',
    				'https://cydcor--stg.sandbox.my.site.com/ESWCydniForAgents1760431201894',
    				{
    					scrt2URL: 'https://cydcor--stg.sandbox.my.salesforce-scrt.com'
    				}
    			);
    		} catch (err) {
    			console.error('Error loading Embedded Messaging: ', err);
    		}
    	};
    </script>
    <script type='text/javascript' src='https://cydcor--stg.sandbox.my.site.com/ESWCydniForAgents1760431201894/assets/js/bootstrap.min.js' onload='initEmbeddedMessaging()'></script>


    <script>
      (function () {
        const $ = (sel) => document.querySelector(sel);
        const themeToggle = $("#themeToggle");
        const THEME_KEY = "supportTheme";

        const yearEl = $("#year");
        if (yearEl) {
          yearEl.textContent = new Date().getFullYear();
        }

        // Logo loading debug
        const logoImg = document.querySelector('.logo .mark img');
        if (logoImg) {
          logoImg.addEventListener('load', () => {
            console.log('Cydni logo loaded successfully');
          });
          logoImg.addEventListener('error', () => {
            console.log('Cydni logo failed to load, showing fallback');
          });
        }

        // Theme persistence
        function setTheme(mode) {
          document.documentElement.dataset.theme = mode;
          themeToggle.setAttribute("aria-pressed", String(mode === "dark"));
          localStorage.setItem(THEME_KEY, mode);
          
          // Adjust root vars for manual toggle independent of system
          if (mode === "light") {
            document.documentElement.style.setProperty("--bg", "#fafbfc");
            document.documentElement.style.setProperty("--panel", "#ffffff");
            document.documentElement.style.setProperty("--text", "#1a202c");
            document.documentElement.style.setProperty("--muted", "#4a5568");
            document.documentElement.style.setProperty("--brand", "#7c3aed");
            document.documentElement.style.setProperty("--brand-600", "#6d28d9");
            document.documentElement.style.setProperty("--accent", "#0891b2");
            document.documentElement.style.setProperty("--success", "#059669");
            document.documentElement.style.setProperty("--danger", "#dc2626");
            document.documentElement.style.setProperty("--input", "#f7fafc");
            document.documentElement.style.setProperty("--border", "#e2e8f0");
            document.documentElement.style.setProperty("--shadow", "0 10px 30px rgba(0, 0, 0, 0.1)");
          } else {
            document.documentElement.style.setProperty("--bg", "#0a0f1c");
            document.documentElement.style.setProperty("--panel", "#1a1f2e");
            document.documentElement.style.setProperty("--text", "#f0f4ff");
            document.documentElement.style.setProperty("--muted", "#b8c5d6");
            document.documentElement.style.setProperty("--brand", "#7c3aed");
            document.documentElement.style.setProperty("--brand-600", "#6d28d9");
            document.documentElement.style.setProperty("--accent", "#06b6d4");
            document.documentElement.style.setProperty("--success", "#10b981");
            document.documentElement.style.setProperty("--danger", "#ef4444");
            document.documentElement.style.setProperty("--input", "#0f1428");
            document.documentElement.style.setProperty("--border", "#2d3748");
            document.documentElement.style.setProperty("--shadow", "0 10px 30px rgba(0, 0, 0, 0.3)");
          }
        }

        // Initialize theme
        const savedTheme = localStorage.getItem(THEME_KEY);
        if (savedTheme) {
          setTheme(savedTheme);
        } else {
          // Default to dark theme for Cydni branding
          setTheme('dark');
        }

        // Theme toggle
        themeToggle.addEventListener("click", () => {
          const currentMode = localStorage.getItem(THEME_KEY) || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
          const newMode = currentMode === "dark" ? "light" : "dark";
          setTheme(newMode);
        });

        // Accordion behavior
        document.querySelectorAll(".acc-item").forEach((item) => {
          const btn = item.querySelector(".acc-button");
          const panel = item.querySelector(".acc-panel");
          if (!btn || !panel) {
            return;
          }

          panel.setAttribute("hidden", "");

          btn.addEventListener("click", () => {
            const expanded = btn.getAttribute("aria-expanded") === "true";
            const newState = !expanded;
            btn.setAttribute("aria-expanded", String(newState));
            if (newState) {
              panel.removeAttribute("hidden");
            } else {
              panel.setAttribute("hidden", "");
            }
          });
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
          anchor.addEventListener('click', function (e) {
            const href = this.getAttribute('href');
            if (!href || href === '#') {
              return;
            }
            const target = document.querySelector(href);
            if (!target) {
              return;
            }

            e.preventDefault();
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          });
        });

        // Chat with Cydni button functionality
        const chatWithCydniBtn = document.getElementById('chatWithCydni');
        const cydniContactItem = document.getElementById('cydnichat');
        
        function launchCydni() {
          console.log('Launching Cydni chat...');
          embeddedservice_bootstrap.utilAPI.launchChat()
          .then(() => {
            console.log(
              'Inside Cydni chat'
            );
          }).catch(() => {
            console.log(
              'Inside Cydni chat catch Block'
            );
          }).finally(() => {
            console.log(
              'Inside Cydni chat finally Block'
            );
          });
        }

        // Add click event listener to the Chat with Cydni button
        chatWithCydniBtn.addEventListener('click', () => {
          launchCydni();
        });

        // Add click event listener to the Cydni contact item
        if (cydniContactItem) {
          cydniContactItem.addEventListener('click', (e) => {
            console.log('Cydni contact item clicked!');
            e.preventDefault();
            launchCydni();
          });
        } else {
          console.error('Cydni contact item not found!');
        }
      })();
    </script>
  </body>
</html>
